.include "m328pdef.inc"

.EQU LONG_VEC = 25

.DSEG 
	
	VEC1: .BYTE LONG_VEC
	VEC2: .BYTE LONG_VEC

.CSEG 
	
	RJMP MAIN

MAIN: 
	LDI XL, LOW(VEC1)
	LDI XH, HIGH(VEC1)
	
	LDI YL, LOW(VEC2)
	LDI YH, HIGH(VEC2)
	
	LDI R20, LONG_VEC

	CALL COPIAR_VEC
	CALL ORDENAR 
	
FIN: RJMP FIN

COPIAR_VEC: 
	LD R17, X+
	ST Y+, R17
	DEC R20
	CPI R20, 1
	BRSH COPIAR_VEC
RET 

ORDENAR:
	LDI YL, LOW(VEC2)
	LDI YH, HIGH(VEC2)
	LDI R20, LONG_VEC

BURBUJEO:

	LD R17, Y+
	LD R18, Y+
	
	DEC R20
	CPI R20, 0
	BREQ VOLVER

	CP R17, R18
	BRLO BURBUJEO
	
	MOV R20, R17
	MOV R17, R18
	MOV R18, R20

	ST -Y, R17
	ST -Y, R18
	
	RJMP BURBUJEO

VOLVER: RET
