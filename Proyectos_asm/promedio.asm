.include "m328def.inc"

.DSEG
	V: .BYTE 8
	M: .BYTE 1

.CSEG
	RJMP MAIN

.ORG INT_VECTORS_SIZE

MAIN:
	LDI XH, HIGH(V)
	LDI XL, LOW(V)
	CALL PROMEDIO

HERE: RJMP HERE

PROMEDIO:
	LDI R16, 8
	LDI R17, 0
	LDI R18, 0
FOR:
	DEC R16
	LD R19, X+
	BRMI SNEG
	ADD R17, R19
	CLR R0
	ADC R18, R0
SEGUIR:
	CPI R16, 0
	BRNE FOR
	
	LDI R16, 3
DIVISION:
	DEC R16
	ASR R18
	ROR R17
	CPI R16, 0
	BRNE DIVISION
	RET

SNEG:
	ADD R17, R19
	RJMP SEGUIR
